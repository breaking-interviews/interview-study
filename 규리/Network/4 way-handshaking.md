2023/01/05

### π§‘β€π’»Β **κΈ°μ λΈ”λ΅κΉ… TechBlog** π

<aside>
π’΅ 4 way-hand shaking

</aside>

* κ³µλ¶€λ¥Ό μ„ν•΄μ„ ν•λ” λΈ”λ΅κΉ…μΌλ΅ μλ»λ μ •λ³΄κ°€ μμ„ μ μμµλ‹λ‹¤.

<br><br>

## [ Network ] 4 way-handshaking

**+Β TCPλ€**

---

λ„¤νΈμ›ν¬ κ³„μΈµ μ¤‘Β μ „μ†΅ κ³„μΈµμ—μ„ μ‚¬μ©ν•λ” ν”„λ΅ν† μ½

μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•λ” μ—°κ²°ν• μ„λΉ„μ¤

<br><br>

**π”©Β 4 way-handshaking**

---

TCPμ μ—°κ²°μ„ ν•΄μ (Connection Termination) ν•λ” κ³Όμ •

= ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅μ ν†µμ‹ μ„ μΆ…λ£ν•λ” κ³Όμ •

<br><br>

**π”©Β ν†µμ‹  μΆ…λ£ κ³Όμ •**

---

1. **fin-wait1**
    
    ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ—°κ²°μ„ μΆ…λ£ν•κ² λ‹¤λ” FIN ν¨ν‚· μ „μ†΅
    
    μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„Έ μ°μ„  ACK ν¨ν‚· μ „μ†΅
    
2. **close-wait**
    
    μ„λ²„λ” ν†µμ‹ μ΄ λλ‚  λ•κΉμ§€ κΈ°λ‹¤λ¦° ν›„ ν†µμ‹ μ΄ λλ‚λ©΄ ν΄λΌμ΄μ–ΈνΈμ—κ² FIN ν¨ν‚· μ „μ†΅
    
3. **last-ack**
    
    ν΄λΌμ΄μ–ΈνΈλ” ACK ν¨ν‚·μ„ μ„λ²„μ—κ² μ „μ†΅
    
4. **fin-wait2, time-wait**
    
    μ„λ²„κ°€ λ³΄λ‚΄λ” FIN λ³΄λ‹¤ λ°μ΄ν„°κ°€ λ¦κ² λ„μ°©ν•  μ μκΈ° λ–„λ¬Έμ— ν΄λΌμ΄μ–ΈνΈλ” μΌμ • μ‹κ°„λ™μ• μ†μΌ“μ„ μ—΄μ–΄λ‘”μ±„ ν¨ν‚·μ„ κΈ°λ‹¤λ¦Ό
    
    μ΄ν›„ μ—°κ²° μΆ…λ£
    

<br><br>

π”©Β **μλΉ„ λ‹µλ³€**

---

Q. 4 way-handshakingμ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.

4 way-handshakingμ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅μ ν†µμ‹ μ„ μΆ…λ£ν•λ” 4λ‹¨κ³„ TCP μ—°κ²° ν•΄μ  κ³Όμ •μ…λ‹λ‹¤. 

ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ—°κ²°μ„ μΆ…λ£ν•κ² λ‹¤λ” FIN ν¨ν‚·μ„ μ „μ†΅ν•λ©΄ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² ACK ν¨ν‚·μ„ μ „μ†΅ν•©λ‹λ‹¤. μ΄ν›„ μ„λ²„λ” ν†µμ‹ μ΄ λλ‚  λ•κΉμ§€ κΈ°λ‹¤λ Έλ‹¤κ°€ ν†µμ‹ μ΄ λλ‚ ν›„ ν΄λΌμ΄μ–ΈνΈμ—κ² FIN ν¨ν‚·μ„ μ „μ†΅ν•©λ‹λ‹¤. μ΄ν›„ ν΄λΌμ΄μ–ΈνΈλ” ACK ν¨ν‚·μ„ μ„λ²„μ—κ² μ „μ†΅ν•κ³  μ„λ²„λ” ν›„μ† λ°μ΄ν„°λ¥Ό κΈ°λ‹¤λ¦¬λ” λ™μ• μ†μΌ“μ„ μ—΄μ–΄λ‘” ν›„ μΌμ • μ‹κ°„μ΄ μ§€λ‚λ©΄ μ—°κ²°μ„ μΆ…λ£ν•©λ‹λ‹¤.

<br><br>

π”©Β **μ°Έκ³ **

---

λΈ”λ΅κ·Έ

[[λ„¤νΈμ›ν¬] 3-way / 4-way Handshake λ€?](https://bangu4.tistory.com/74)

[TCP 3 way handshake, 4 way handshake μ•μ•„λ³΄κΈ° (feat wireshark)](https://velog.io/@skyepodium/3-way-handshaking-4-way-handshaking)

<br><br>
